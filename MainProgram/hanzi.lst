C51 COMPILER V9.00   HANZI                                                                 10/17/2014 21:24:59 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE HANZI
OBJECT MODULE PLACED IN .\OUTPUT\hanzi.obj
COMPILER INVOKED BY: D:\Program Files(x86)\keilC51\C51\BIN\C51.EXE SRC\hanzi.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\h
                    -anzi.lst) OBJECT(.\OUTPUT\hanzi.obj)

line level    source

   1          #include "hanzi.h"
   2          #include "lcd.h"
   3          
   4          // ------------------  汉字字模的数据结构定义 ------------------------ //
   5          struct  typFNT_GB16                 // 汉字字模数据结构 
   6          {
   7                 unsigned char  Index[3];               // 汉字内码索引   
   8                 unsigned char   Msk[32];                        // 点阵码数据 
   9          };
  10          
  11          /////////////////////////////////////////////////////////////////////////
  12          // 汉字字模表                                                          //
  13          // 汉字库: 宋体16.dot,横向取模左高位,数据排列:从左到右从上到下         //
  14          /////////////////////////////////////////////////////////////////////////
  15           code struct  typFNT_GB16 codeGB_16[] =          // 数据表 
  16          {
  17          
  18          /*--  文字:  全  --*/
  19          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  20          "全",0x01,0x00,0x01,0x00,0x02,0x80,0x04,0x40,0x08,0x20,0x10,0x10,0x2F,0xE8,0xC1,0x06,
  21          0x01,0x00,0x01,0x00,0x1F,0xF0,0x01,0x00,0x01,0x00,0x01,0x00,0x7F,0xFC,0x00,0x00,
  22          
  23          /*--  文字:  动  --*/
  24          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  25          "动",0x00,0x40,0x00,0x40,0x7C,0x40,0x00,0x40,0x01,0xFC,0x00,0x44,0xFE,0x44,0x20,0x44,
  26          0x20,0x44,0x20,0x84,0x48,0x84,0x44,0x84,0xFD,0x04,0x45,0x04,0x02,0x28,0x04,0x10,
  27          
  28          /*--  文字:  电  --*/
  29          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  30          "电",0x01,0x00,0x01,0x00,0x01,0x00,0x3F,0xF8,0x21,0x08,0x21,0x08,0x3F,0xF8,0x21,0x08,
  31          0x21,0x08,0x21,0x08,0x3F,0xF8,0x21,0x08,0x01,0x02,0x01,0x02,0x00,0xFE,0x00,0x00,
  32          
  33          /*--  文字:  子  --*/
  34          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  35          "子",0x00,0x00,0x3F,0xF0,0x00,0x20,0x00,0x40,0x00,0x80,0x01,0x00,0x01,0x00,0x01,0x04,
  36          0xFF,0xFE,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x05,0x00,0x02,0x00,
  37          
  38          /*--  文字:  科  --*/
  39          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  40          "科",0x06,0x08,0x78,0x88,0x08,0x48,0x08,0x48,0xFE,0x08,0x18,0x88,0x1C,0x48,0x2A,0x48,
  41          0x28,0x0E,0x48,0x78,0x8B,0x88,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
  42          
  43          /*--  文字:  技  --*/
  44          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  45          "技",0x10,0x20,0x10,0x20,0x10,0x20,0xFD,0xFE,0x10,0x20,0x14,0x20,0x19,0xFC,0x31,0x08,
  46          0xD0,0x88,0x10,0x90,0x10,0x60,0x10,0x60,0x10,0x90,0x11,0x0E,0x56,0x04,0x20,0x00,
  47          
  48          /*--  文字:  有  --*/
  49          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  50          "有",0x01,0x00,0x01,0x00,0x7F,0xFE,0x02,0x00,0x04,0x00,0x0F,0xF0,0x18,0x10,0x28,0x10,
  51          0x4F,0xF0,0x88,0x10,0x08,0x10,0x0F,0xF0,0x08,0x10,0x08,0x90,0x08,0x70,0x08,0x20,
  52          
  53          /*--  文字:  限  --*/
  54          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V9.00   HANZI                                                                 10/17/2014 21:24:59 PAGE 2   

  55          "限",0x00,0x00,0xFB,0xF8,0x92,0x08,0x93,0xF8,0xA2,0x08,0xA2,0x08,0x93,0xF8,0x8A,0x80,
  56          0x8A,0x48,0xAA,0x50,0x92,0x20,0x82,0x20,0x82,0x10,0x82,0x8E,0x83,0x04,0x82,0x00,
  57          
  58          /*--  文字:  公  --*/
  59          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  60          "公",0x00,0x00,0x04,0x40,0x06,0x40,0x04,0x40,0x08,0x20,0x08,0x10,0x10,0x18,0x22,0x0E,
  61          0x43,0x04,0x02,0x00,0x04,0x20,0x08,0x10,0x11,0xF8,0x3F,0x18,0x10,0x10,0x00,0x00,
  62          
  63          /*--  文字:  司  --*/
  64          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  65          "司",0x00,0x00,0x3F,0xFC,0x00,0x04,0x00,0x04,0x7F,0xE4,0x00,0x04,0x00,0x04,0x3F,0xC4,
  66          0x20,0x44,0x20,0x44,0x3F,0xC4,0x20,0x44,0x20,0x04,0x00,0x14,0x00,0x08,0x00,0x00,
  67          
  68          /*--  文字:  专  --*/
  69          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  70          "专",0x01,0x00,0x01,0x00,0x3F,0xF8,0x02,0x00,0x02,0x00,0xFF,0xFE,0x04,0x00,0x08,0x20,
  71          0x0F,0xF0,0x00,0x20,0x00,0x40,0x02,0x80,0x01,0x00,0x00,0x80,0x00,0x40,0x00,0x00,
  72          
  73          /*--  文字:  业  --*/
  74          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  75          "业",0x04,0x40,0x04,0x40,0x04,0x40,0x04,0x44,0x44,0x46,0x24,0x4C,0x24,0x48,0x14,0x50,
  76          0x1C,0x50,0x14,0x60,0x04,0x40,0x04,0x40,0x04,0x44,0xFF,0xFE,0x00,0x00,0x00,0x00,
  77          
  78          /*--  文字:  开  --*/
  79          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  80          "开",0x00,0x00,0x7F,0xFE,0x04,0x20,0x04,0x20,0x04,0x20,0x04,0x20,0xFF,0xFE,0x04,0x20,
  81          0x04,0x20,0x04,0x20,0x08,0x20,0x08,0x20,0x10,0x20,0x20,0x20,0x40,0x20,0x00,0x00,
  82          
  83          /*--  文字:  发  --*/
  84          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  85          "发",0x02,0x00,0x22,0x40,0x22,0x30,0x22,0x10,0x7F,0xFE,0x24,0x00,0x04,0x00,0x07,0xE0,
  86          0x0C,0x20,0x0A,0x20,0x0A,0x20,0x11,0x40,0x20,0x80,0x41,0x60,0x86,0x1C,0x18,0x08,
  87          
  88          /*--  文字:  板  --*/
  89          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  90          "板",0x10,0x1C,0x11,0xE0,0x11,0x00,0x11,0x00,0xFD,0x00,0x11,0xFC,0x39,0x84,0x35,0x48,
  91          0x55,0x48,0x52,0x30,0x92,0x10,0x12,0x30,0x14,0x48,0x10,0x8E,0x11,0x04,0x00,0x00,
  92          
  93          /*--  文字:  工  --*/
  94          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
  95          "工",0x00,0x00,0x3F,0xFC,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
  96          0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0xFF,0xFE,0x00,0x00,0x00,0x00,
  97          
  98          /*--  文字:  控  --*/
  99          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 100          "控",0x10,0x00,0x10,0x20,0x10,0x10,0xFD,0xFE,0x11,0x04,0x10,0x50,0x14,0x8C,0x19,0x04,
 101          0x30,0x00,0xD1,0xFC,0x10,0x20,0x10,0x20,0x10,0x20,0x10,0x20,0x53,0xFE,0x20,0x00,
 102          
 103          /*--  文字:  设  --*/
 104          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 105          "设",0x40,0x00,0x21,0xF0,0x31,0x10,0x21,0x10,0x01,0x10,0x01,0x10,0xE2,0x0E,0x25,0xF8,
 106          0x21,0x08,0x21,0x08,0x20,0x90,0x20,0x90,0x28,0x60,0x30,0x90,0x23,0x0E,0x0C,0x04,
 107          
 108          /*--  文字:  备  --*/
 109          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 110          "备",0x08,0x00,0x0F,0xF0,0x08,0x20,0x14,0x20,0x22,0x40,0x41,0x80,0x02,0x40,0x0C,0x30,
 111          0x30,0x1E,0xDF,0xF4,0x11,0x10,0x1F,0xF0,0x11,0x10,0x11,0x10,0x1F,0xF0,0x10,0x10,
 112          
 113          /*--  文字:  技  --*/
 114          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 115          "技",0x10,0x20,0x10,0x20,0x10,0x20,0xFD,0xFE,0x10,0x20,0x14,0x20,0x19,0xFC,0x31,0x08,
 116          0xD0,0x88,0x10,0x90,0x10,0x60,0x10,0x60,0x10,0x90,0x11,0x0E,0x56,0x04,0x20,0x00,
C51 COMPILER V9.00   HANZI                                                                 10/17/2014 21:24:59 PAGE 3   

 117          
 118          /*--  文字:  术  --*/
 119          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 120          "术",0x01,0x00,0x01,0x20,0x01,0x10,0x01,0x00,0xFF,0xFE,0x01,0x00,0x03,0x80,0x05,0x40,
 121          0x05,0x20,0x09,0x10,0x11,0x18,0x21,0x0E,0xC1,0x04,0x01,0x00,0x01,0x00,0x00,0x00,
 122          
 123          /*--  文字:  支  --*/
 124          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 125          "支",0x01,0x00,0x01,0x00,0x01,0x00,0x7F,0xFE,0x01,0x00,0x01,0x00,0x1F,0xF8,0x08,0x10,
 126          0x04,0x20,0x04,0x20,0x02,0x40,0x01,0x80,0x02,0x40,0x0C,0x30,0x70,0x0E,0x00,0x04,
 127          
 128          /*--  文字:  持  --*/
 129          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 130          "持",0x10,0x40,0x10,0x40,0x13,0xFC,0xFC,0x40,0x10,0x40,0x17,0xFE,0x14,0x10,0x18,0x10,
 131          0x37,0xFE,0xD0,0x10,0x11,0x10,0x10,0xD0,0x10,0x90,0x10,0x10,0x50,0x50,0x20,0x20,
 132          
 133          /*--  文字:  论  --*/
 134          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 135          "论",0x40,0x40,0x20,0x40,0x30,0xA0,0x20,0x90,0x01,0x08,0x02,0x06,0xE5,0x04,0x21,0x10,
 136          0x21,0x38,0x21,0xC0,0x21,0x00,0x25,0x00,0x29,0x04,0x31,0x04,0x20,0xFC,0x00,0x00,
 137          
 138          /*--  文字:  坛  --*/
 139          /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
 140          "坛",0x00,0x00,0x11,0xFC,0x10,0x00,0x10,0x00,0x10,0x00,0xFC,0x00,0x13,0xFE,0x10,0x40,
 141          0x10,0x60,0x10,0x80,0x1C,0x88,0x31,0x04,0xC2,0x7E,0x07,0xC6,0x02,0x04,0x00,0x00,
 142          
 143          
 144          
 145          
 146          };
 147          
 148          void PutGB1616(unsigned short x, unsigned short  y, unsigned char c[2], unsigned int fColor,unsigned int b
             -Color)
 149          {
 150   1              unsigned int i,j,k;
 151   1      
 152   1              Address_set(x,y,x+16-1,y+16-1);
 153   1              for (k=0;k<64;k++) { //64标示自建汉字库中的个数，循环查询内码
 154   2                if ((codeGB_16[k].Index[0]==c[0])&&(codeGB_16[k].Index[1]==c[1])){ 
 155   3              for(i=0;i<32;i++) {
 156   4                        unsigned short m=codeGB_16[k].Msk[i];
 157   4                        for(j=0;j<8;j++) {
 158   5                              if((m&0x80)==0x80) {
 159   6                                      LCD_WRITE_DATA(fColor);
 160   6                                      }
 161   5                              else {
 162   6                                      LCD_WRITE_DATA(bColor);
 163   6                                      }
 164   5                      m<<=1;
 165   5                      } 
 166   4                }
 167   3              }  
 168   2        }     
 169   1      }
 170          
 171           void LCD_PutString(unsigned short x, unsigned short y, unsigned char *s, unsigned int fColor, unsigned in
             -t bColor) {
 172   1               unsigned char l=0;
 173   1              while(*s) {
 174   2      //              if( *s < 0x80) 
 175   2      //                  {
 176   2      //                      LCD_PutChar(x+l*8,y,*s,fColor,bColor);
C51 COMPILER V9.00   HANZI                                                                 10/17/2014 21:24:59 PAGE 4   

 177   2      //                      s++;l++;
 178   2      //                      }
 179   2      //              else
 180   2                          {
 181   3                              PutGB1616(x+l*8,y,(unsigned char*)s,fColor,bColor);
 182   3                              s+=2;l+=2;
 183   3                              }
 184   2                      }
 185   1              }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    488    ----
   CONSTANT SIZE    =    875    ----
   XDATA SIZE       =   ----      31
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
